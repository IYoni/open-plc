#sidebar TableOfContents

= OpenPLC Library =

We developed a small library to use our PLC with the Arduino Platform. To install, just download the library using the link above, and extract it inside the Libraries folder in your Arduino installation.

*Download Link: [http://open-plc.googlecode.com/files/OpenPLC-Lib.zip OpenPLC-Lib.zip]*


= Library Functions =

*void PLCInit()*

Initializes the PLC with the proper output and input pins.

Example:
{{{
void setup() 
{
  PLCInit();
  Serial.begin(38400);
  Serial.println("System Loaded!");
}
}}}
----

*int readInput(int input)*

Returns the state of the selected input. The state can be ON or OFF.

*Note: OpenPLC inputs are called X0, X1, X2...*

Example:
{{{
void setup() 
{
  PLCInit();
  Serial.begin(38400);
  Serial.println("System Loaded!");
}
void loop()
{
  Serial.print("Input X0: ");
  Serial.println(readInput(X0));
  delay(500);
}
}}}
----

*int setOutput(int output, boolean state)*

Defines the state of the selected output and returns zero if scceded or -1 in case of failure. This is a discrete function, so it will only set outputs to ON or OFF states. For pwm outputs, it will set the output to maximum dutycicle if the state is ON. If you need a variable pwm output, check setPWM() function.

*Note: OpenPLC outputs are called Y0, Y1, Y2...*

Example:
{{{
void setup() 
{
  PLCInit();
  Serial.begin(38400);
  Serial.println("System Loaded!");
}
void loop()
{
  Serial.println("Output Y0 ON");
  setOutput(Y0, ON);
  delay(1000);

  Serial.println("Output Y0 OFF");
  setOutput(Y0, OFF);
  delay(1000);
}
}}}